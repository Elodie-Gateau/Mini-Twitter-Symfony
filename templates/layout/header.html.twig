<header class="z-50 h-14 fixed top-0 left-0 w-full flex items-center dark:bg-gray-900 bg-white border-b dark:border-gray-700 border-gray-200 px-4 transition-colors duration-300">

  <!-- Logo -->
  <div class="flex items-center gap-2">
    <a href="{{ path('app_tweet_index') }}" class="flex items-center">
      <!-- Logo clair -->
      <img src="{{ asset('img/logo-txt.png') }}" 
           alt="Logo clair" 
           class="h-35 w-auto dark:hidden transition-all duration-300">
      <!-- Logo sombre -->
      <img src="{{ asset('img/logo-dark.png') }}" 
           alt="Logo sombre" 
           class="h-10 w-auto hidden dark:block transition-all duration-300">
    </a>
  </div>

  <!-- Actions à droite -->
  <div class="flex items-center gap-4 ml-auto">


    {% if is_granted('ROLE_USER') %}
    <!-- Menu Profil -->
    <div class="relative group">
      <button class="flex items-center gap-2 focus:outline-none">
        <img src="{{ app.user.photo ? asset('uploads/photos/' ~ app.user.photo) : asset('img/personne.png') }}"
             alt="Profil"
             class="w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 shadow cursor-pointer">
      </button>

      <!-- Dropdown -->
      <div class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 ease-out z-50">
        <div class="p-3 flex items-center gap-3 border-b border-gray-200 dark:border-gray-700">
          <img src="{{ app.user.photo ? asset('uploads/photos/' ~ app.user.photo) : asset('img/personne.png') }}"
               alt="Profil"
               class="w-9 h-9 rounded-full shadow">
          <div>
            <p class="text-sm font-semibold text-gray-800 dark:text-gray-100">{{ app.user.nickname }}</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">{{ app.user.email }}</p>
          </div>
        </div>
        <div class="py-1">
          <a href="{{ path('app_profile_show', {'id': app.user.id}) }}" 
             class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700">Profil</a>
		{% if is_granted('ROLE_ADMIN') %}
            <a href="{{ path('app_panel_admin') }}" 
               class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700">
               <ion-icon name="settings-outline" class="text-lg"></ion-icon> Espace administrateur
            </a>
        {% endif %}
          <a href="{{ path('app_logout') }}" 
             class="block px-4 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10">Se déconnecter</a>
        </div>
      </div>
    </div>
    {% else %}
    <a href="{{ path('app_login') }}" class="px-3 py-1.5 rounded-lg bg-orange-500 text-white hover:bg-orange-600 text-sm">Se connecter</a>
    {% endif %}
  </div>
</header>