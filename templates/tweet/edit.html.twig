{% extends 'base.html.twig' %}

{% block title %}Modifier le message
{% endblock %}

{% block body %}
	<div>

			<div class="space-y-4 sm:space-y-0 sm:space-x-4 my-5 ml-3">
				{% if app.request.query.get('from') == 'show' %}
					<a href="{{ path('app_profile_show', {'id': app.user.id}) }}" class="text-lg font-bold dark:text-white bg-transparent hover:bg-orange-500 text-orange-700 font-semibold hover:text-white py-2 px-4 cursor-pointer mt-2"><i class="fa-solid fa-arrow-left"> Retour</i></a>
				{% else %}
					<a href="{{ path('app_tweet_index') }}" class="text-lg font-bold dark:text-white bg-transparent hover:bg-orange-500 text-orange-700 font-semibold hover:text-white py-2 px-4 cursor-pointer mt-2"><i class="fa-solid fa-arrow-left"></i> Retour</a>
				{% endif %}
			</div>
	
			<h1 class="text-4xl font-bold text-orange-500 dark:text-orange-200 text-center mb-15">Modifier le message</h1>


			{{ include('tweet/_form.html.twig', {'button_label': 'Modifier'}) }}
	</div>

	<div
		class="flex flex-row flex-wrap items-end justify-start gap-5 mt-10">

		{# Fait apparaître les médias du tweet s'il y en a #}
		{% if tweet.media %}
			{% for media in tweet.media %}
				<div class="flex flex-col flex-wrap items-center ">
					<div class="h30 w-30">
						<img class="rounded-full size-fit w-{{ tweet.media|length > 1 ? " 50" : " 100" }}" src="{{ media.urlMedia }}" alt="">
					</div>
					{# Permet de supprimer chaque média individuellement #}
					<form method="post" action="{{ path('app_media_delete', {'id': media.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce média ?');">
						<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ media.id) }}">
						<button class="bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded cursor-pointer mt-2">Supprimer</button>
					</form>
				</div>
			{% endfor %}
		{% endif %}
	</div>

</div></div>{% endblock %}
