{% extends 'base.html.twig' %}

{% block title %}Modifier le message
{% endblock %}

{% block body %}
	<h1 class="mt-15 mb-2 text-4xl font-bold text-orange-500 text-center">Modifier le message</h1>

	{{ include('tweet/_form.html.twig', {'button_label': 'Mettre à jour'}) }}
	{{ include('tweet/_delete_form.html.twig') }}

	<div
		class="flex flex-row flex-wrap items-end justify-start gap-5 mt-10">

		{# Fait apparaître les médias du tweet s'il y en a #}
		{% if tweet.media %}
			{% for media in tweet.media %}
				<div class="flex flex-col flex-wrap items-center">
					<div class="h30 w-30">
						<img class="rounded-full size-fit w-{{ tweet.media|length > 1 ? " 50" : " 100" }}" src="{{ media.urlMedia }}" alt="">
					</div>
					{# Permet de supprimer chaque média individuellement #}
					<form method="post" action="{{ path('app_media_delete', {'id': media.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce média ?');">
						<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ media.id) }}">
						<button class="bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded cursor-pointer mt-2">Supprimer</button>
					</form>
				</div>
			{% endfor %}
		{% endif %}
	</div>
	<div class="max-w-4xl mx-auto mt-8 flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
		<button href="{{ path('app_profile_show', {'id': app.user.id}) }}" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded cursor-pointer mt-2">Retour au profil
		<button href="{{ path('app_tweet_index') }}" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded cursor-pointer mt-2">Retour à la liste</a>
	</div>
</div></div>{% endblock %}
